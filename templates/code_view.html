<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>{% if is_dir %}{{ file_path }} - Directory{% else %}{{ file_path }} - Code Viewer{% endif %}</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><style>.file-navigation,.nav-bar{position:sticky;z-index:100;top:0}.code-header,.directory-header,.directory-item,.nav-bar{border-bottom:1px solid var(--color-border-default)}.breadcrumb-item,.btn,.item-name{white-space:nowrap}.breadcrumb-item,.breadcrumb-item:hover,.btn,.btn:hover,.directory-link,.nav-link{text-decoration:none}.btn,.close-nav,.mobile-link{cursor:pointer}:root{--color-canvas-default:#0d1117;--color-canvas-subtle:#161b22;--color-border-default:#30363d;--color-border-muted:#21262d;--color-fg-default:#c9d1d9;--color-fg-muted:#8b949e;--color-fg-subtle:#6e7681;--color-btn-bg:#21262d;--color-btn-hover-bg:#30363d;--color-btn-active-bg:#282e33;--color-header-bg:#161b22;--color-primer-shadow-focus:0 0 0 3px #0c2d6b;--color-primer-border-active:#1f6feb;--color-success-fg:#3fb950;--color-danger-fg:#f85149;--color-done-fg:#a371f7;--color-accent-fg:#58a6ff;--color-accent-subtle:rgba(56, 139, 253, 0.1);--color-code-bg:#0d1117}pre[style*=background-color]{background-color:var(--color-code-bg)!important}code{background-color:var(--color-code-bg);border-radius:3px;padding:.2em .4em;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.btn-text,.item-download,.item-meta,.light-code{display:none}@media (prefers-color-scheme:light){:root{--color-canvas-default:#ffffff;--color-canvas-subtle:#f6f8fa;--color-border-default:#d0d7de;--color-border-muted:#d8dee4;--color-fg-default:#24292f;--color-fg-muted:#57606a;--color-fg-subtle:#6e7781;--color-btn-bg:#f6f8fa;--color-btn-hover-bg:#f3f4f6;--color-btn-active-bg:#ebecf0;--color-header-bg:#f6f8fa;--color-primer-shadow-focus:0 0 0 3px rgba(9, 105, 218, 0.3);--color-primer-border-active:#0969da;--color-success-fg:#1a7f37;--color-danger-fg:#cf222e;--color-done-fg:#8250df;--color-accent-fg:#0969da;--color-accent-subtle:rgba(9, 105, 218, 0.1)}.item-icon .fa-folder{color:#54a3ff}.directory-tree .directory-item.active .directory-link{background-color:var(--color-accent-subtle);color:var(--color-accent-fg)}.dark-code{display:none}.light-code{display:unset}}.directory-title,body{color:var(--color-fg-default)}body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans",Helvetica,Arial,sans-serif;font-size:14px;line-height:1.5;background-color:var(--color-canvas-default);height:100vh}::-webkit-scrollbar{width:8px}::-webkit-scrollbar-thumb{background:var(--color-fg-default);border-radius:4px}.directory-header,.directory-panel{background-color:var(--color-canvas-subtle)}::-webkit-scrollbar-thumb:hover{background:rgba(100,100,100,.7)}.app-container{display:grid;grid-template-columns:300px 1fr;height:100vh;overflow:hidden}.header-title span{margin-left:5px}.directory-panel{border-right:1px solid var(--color-border-default);display:flex;flex-direction:column;height:100%}.directory-header{padding:16px;display:flex;justify-content:space-between;align-items:center}.directory-title{display:flex;align-items:center;gap:8px;font-size:16px;font-weight:600}.item-name,.tag{font-weight:500}.directory-title i,.item-icon .fa-folder{color:#54aeff}.breadcrumb-item,.breadcrumb-separator,.nav-link{color:var(--color-fg-muted)}.code-actions,.directory-actions,.files-actions{display:flex;gap:8px}.directory-tree{overflow-y:auto;flex-grow:1;padding:8px 0}.directory-tree .directory-item{border:none;margin:1px 0}.directory-tree .directory-link{padding:4px 12px;display:grid;grid-template-columns:20px 1fr;gap:8px;color:var(--color-fg-muted);text-decoration:none;border-radius:0}.breadcrumb-item:hover,.logo i{color:var(--color-accent-fg)}.directory-tree .directory-item.active .directory-link{background-color:var(--color-accent-subtle);color:var(--color-accent-fg)}.directory-link:hover,.directory-tree .directory-link:hover{background-color:var(--color-btn-hover-bg)}.main-content{height:100vh;overflow-y:auto;padding:0 16px 16px}.breadcrumb{display:flex;align-items:center;flex-wrap:wrap;list-style:none;margin:0;padding:0;min-width:0;overflow:hidden}.breadcrumb-item{display:flex;align-items:center;gap:4px;padding:8px;border-radius:6px}.breadcrumb-item:hover{background-color:var(--color-accent-subtle)}.breadcrumb-separator{margin:0 4px;flex-shrink:0}.nav-bar{background-color:var(--color-canvas-default);padding:12px 0}.file-navigation .nav-left,.nav-left{display:flex;align-items:center;min-width:0}.file-navigation .nav-right,.nav-right{display:flex;align-items:center;flex-shrink:0}.nav-link{display:flex;align-items:center}.directory-container{border:1px solid var(--color-border-default);border-radius:6px;background-color:var(--color-canvas-subtle)}.btn,.code-container{border:1px solid var(--color-border-default)}.directory-item:last-child{border-bottom:none}.directory-link{display:grid;grid-template-columns:24px 1fr;gap:12px;align-items:center;padding:6px 16px;color:var(--color-fg-default);transition:background-color .2s}.file-info,.file-main-info{display:flex;align-items:center}.item-icon{color:var(--color-fg-muted);width:24px;text-align:center}.line-numbers,.linenos{text-align:right;user-select:none}.item-name{overflow:hidden;text-overflow:ellipsis}.file-navigation{background-color:var(--color-canvas-default);padding:12px 0}.file-info{gap:16px}.file-main-info{gap:8px}.file-meta,.file-name-row{align-items:center;display:flex}.file-name{font-size:16px;color:var(--color-fg-default)}.file-name-row{gap:8px;align-self:flex-start}.file-meta{gap:16px;color:var(--color-fg-muted);font-size:12px;margin-left:10px}.btn,.btn:hover,.close-nav:hover,.file-path{color:var(--color-fg-default)}.meta-item{display:flex;align-items:center;gap:6px}.file-info-divider{width:1px;height:18px;background-color:var(--color-border-default);margin:0 8px}.code-container,.code-header{background-color:var(--color-canvas-subtle)}.code-container{position:relative;margin-bottom:24px}.code-header{padding:8px 16px;display:flex;justify-content:space-between;align-items:center}.file-path{font-family:ui-monospace,SFMono-Regular,"SF Mono",Menlo,Consolas,"Liberation Mono",monospace;font-size:12px}.btn{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;font-size:14px;vertical-align:middle;user-select:none;border-radius:6px;appearance:none;background-color:var(--color-btn-bg);transition:.2s cubic-bezier(.3, 0, .5, 1);transition-property:color,background-color,border-color}.close-nav,.highlight{background:0 0}.btn:hover{background-color:var(--color-btn-hover-bg);border-color:var(--color-border-muted)}.linenos{color:var(--color-fg-subtle);padding-right:10px}.close-nav{display:none;padding:.5rem;font-size:1.25rem;color:var(--color-fg-muted);border:none}@media (max-width:1024px){.app-container{grid-template-columns:250px 1fr}}@media (max-width:850px){.main-content{padding:0 12px 12px}.breadcrumb{margin:0}.code-header{padding:12px 16px;display:grid;grid-template-columns:1fr auto;align-items:start;gap:16px}.file-info{flex-direction:column;align-items:flex-start;gap:8px}.file-main-info{display:flex;flex-direction:column;align-items:flex-start;gap:8px}.file-meta{display:flex;flex-wrap:wrap;gap:12px;margin-left:0}.code-actions{align-self:flex-start;padding-top:4px;display:flex;gap:8px}}@media (max-width:768px){.file-info{flex-direction:column;align-items:flex-start}.breadcrumb{padding-right:60px}.directory-panel{position:fixed;left:-300px;top:0;bottom:0;width:300px;z-index:1000;transition:left .3s}.nav-open .directory-panel{left:0;box-shadow:2px 0 8px rgba(0,0,0,.2)}.close-nav{display:block}.app-container{grid-template-columns:1fr}}@media (max-width:480px){.directory-panel{width:100%;left:-100%}.file-meta{flex-direction:column;align-items:flex-start;gap:8px}.meta-item{width:100%}.breadcrumb{font-size:12px}.code-body,.code-header,.directory-header{padding:12px}pre{font-size:11px}}.nav-open::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:999}.tag{display:inline-flex;align-items:center;padding:4px 12px;font-size:12px;border-radius:2em;background-color:var(--color-accent-subtle);color:var(--color-accent-fg)}.code-body,.code-content,.code-with-lines,.files-header{background-color:var(--color-canvas-subtle)}.about-header{margin-bottom:16px}.about-header h2,.files-header h2{font-size:16px;font-weight:600;margin:0}.about-content{color:var(--color-fg-default);font-size:14px;line-height:1.5}.line-number,.line-numbers{color:var(--color-fg-subtle)}.files-header{display:flex;justify-content:space-between;align-items:center;padding:16px;border:1px solid var(--color-border-default);border-bottom:none;border-top-left-radius:6px;border-top-right-radius:6px}.code-with-lines{display:flex;width:100%;overflow-x:auto;border-radius:6px}.code-content code,.line-number{display:block;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:20px}.line-numbers{flex:0 0 auto;padding:16px 12px;border-right:1px solid var(--color-border-default)}.line-number{white-space:pre;height:20px}.code-content{flex:1 1 auto;overflow-x:auto;padding:16px}.code-content pre{margin:0;background-color:transparent!important;border:none;padding:0;line-height:20px}.code-content code{tab-size:4}.highlight span{line-height:20px;height:20px;display:inline-block}.mobile-link i,.nav-content,.nav-link{display:flex}.line-numbers::selection{background:0 0}.line-numbers::-moz-selection{background:0 0}.line-number::selection{background:0 0}.line-number::-moz-selection{background:0 0}.code-container{border:1px solid var(--color-border-default);border-radius:6px;overflow:hidden}.code-body{padding:0;overflow-x:auto}.nav-content{width:100%;padding:0 16px;justify-content:space-between;align-items:center;box-sizing:border-box}.file-navigation .nav-content{padding:0}.nav-link{align-items:center;gap:8px;color:var(--color-fg-muted);padding:8px 12px;border-radius:6px;transition:color .2s,background-color .2s;white-space:nowrap}.mobile-link,.nav-link:hover{color:var(--color-fg-default)}.nav-link:hover{background-color:var(--color-btn-hover-bg)}.mobile-link{display:none;padding:.5rem;font-size:1.25rem;background:var(--color-canvas-subtle);border:1px solid var(--color-border-default);border-radius:6px}@media (max-width:768px){.nav-content{padding:0 8px}.github-link{display:none!important}.mobile-link{display:unset}.breadcrumb-item span{display:none}.breadcrumb-item i{margin-right:0}.nav-left{width:100%}}</style></head><body><div class="app-container"><div class="directory-panel"><div class="directory-header"><div class="header-title"><i class="fas fa-book"></i><span>Repository</span></div><button class="close-nav" aria-label="Close navigation"><i class="fas fa-times"></i></button></div><div class="directory-tree">{% if parent_dir %}<div class="directory-item"><a href="/{{ parent_dir }}" class="directory-link"><div class="item-icon"><i class="fas fa-level-up-alt"></i></div><div class="item-name">..</div></a></div>{% endif %}{% for item in dir_contents %}<div class="directory-item {% if item.path == file_path %}active{% endif %}"><a href="/{{ item.path }}" class="directory-link"><div class="item-icon">{% if item.is_dir %}<i class="fas fa-folder"></i>{% else %}<i class="far fa-file-code"></i>{% endif %}</div><div class="item-name">{{ item.name }}</div></a></div>{% endfor %}</div></div><div class="main-content"><div class="file-navigation"><div class="nav-content"><div class="nav-left"><div class="breadcrumb"><a href="/" class="breadcrumb-item"><i class="fas fa-code"></i><span>TN3W Repo</span></a>{% if file_path %}{% set parts = [] %}{% for part in file_path | split(pat="/") %}{% set_global parts = parts | concat(with=part) %}<span class="breadcrumb-separator">/</span><a href="/{{ parts | join(sep="/") }}" class="breadcrumb-item">{{ part }}</a>{% endfor %}{% endif %}</div></div><div class="nav-right"><button class="nav-link mobile-link" aria-label="Toggle navigation"><i class="fas fa-bars"></i></button><a href="https://github.com/TN3W" class="nav-link github-link" target="_blank"><i class="fab fa-github"></i><span>GitHub</span></a></div></div></div>{% if is_dir %}<div class="directory-container"><div class="directory-header"><div class="directory-title"><i class="fas fa-folder-open"></i><span>{{ file_path | split(pat="/") | last | default(value="Root") }}</span></div><div class="directory-actions"><a href="/download/{{ file_path }}" class="btn" title="Download as ZIP"><i class="fas fa-download"></i><span class="btn-text">Download ZIP</span></a></div></div>{% for item in contents %}<div class="directory-item"><a href="/{{ item.path }}" class="directory-link"><div class="item-icon">{% if item.is_dir %}<i class="fas fa-folder"></i>{% else %}<i class="far fa-file-code"></i>{% endif %}</div><div class="item-name">{{ item.name }}</div></a></div>{% endfor %}</div>{% else %}<div class="code-container"><div class="code-header"><div class="file-info"><div class="file-main-info"><div class="file-name-row"><span class="file-icon"><i class="far fa-file-code"></i></span><strong class="file-name">{{ file_path | split(pat="/") | last }}</strong></div><div class="file-meta"><span class="meta-item"><i class="fas fa-list-ol"></i>{{ lines_count }} lines</span><span class="meta-item"><i class="fas fa-weight-hanging"></i>{{ file_size }}</span><span class="meta-item"><i class="far fa-clock"></i>{{ last_modified }}</span></div></div></div><div class="code-actions"><button class="btn" id="copy-btn" onclick="copyCode()" title="Copy code"><i class="far fa-copy"></i><span class="btn-text">Copy</span></button><a href="/download/{{ file_path }}" class="btn" title="Download file"><i class="fas fa-download"></i><span class="btn-text">Download</span></a></div></div><div class="code-body">{{ highlighted_code | safe }}</div></div>{% endif %}</div></div><script>const appContainer=document.querySelector(".app-container"),navToggle=document.querySelector(".mobile-link"),closeNav=document.querySelector(".close-nav");async function copyCode(){const e=document.querySelector(".code-content");if(!e)return;const t=e.innerText;try{await navigator.clipboard.writeText(t);const e=document.getElementById("copy-btn"),o=e.querySelector("i"),n=e.querySelector(".btn-text");o.className="fas fa-check",n.textContent="Copied!",setTimeout((()=>{o.className="far fa-copy",n.textContent="Copy"}),2e3)}catch(e){console.error("Failed to copy text:",e)}}navToggle.addEventListener("click",(()=>{appContainer.classList.add("nav-open")})),closeNav.addEventListener("click",(()=>{appContainer.classList.remove("nav-open")}));</script></body></html>